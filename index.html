<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Maintenance Préventive</title>

  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html, body {
      height: 100%;
      font-family: Arial, sans-serif;
      color: white;
      overflow-x: hidden;
      overflow-y: auto;
      user-select: none;
      position: relative;
    }

    #background-video {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      z-index: 0;
    }

    .scan-effect {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(to bottom, transparent 0%, rgba(0,150,255,0.12) 50%, transparent 100%);
      animation: scan 5s linear infinite;
      pointer-events: none;
      z-index: 1;
    }

    @keyframes scan {
      0% { transform: translateY(-100%); }
      100% { transform: translateY(100%); }
    }

    h1 {
      text-align: center;
      font-size: 3em;
      margin-top: 20px;
      margin-bottom: 60px;
      color: #80c0ff;
      text-shadow: 0 0 15px #3399ff;
      position: relative;
      z-index: 2;
    }

    .subtitle {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 2em;
      color: #80c0ff;
      text-shadow: 0 0 15px #3399ff;
      z-index: 2;
      pointer-events: none;
    }

    .levels {
      display: flex;
      justify-content: center;
      gap: 80px;
      flex-wrap: wrap;
      margin-bottom: 20px;
      position: relative;
      z-index: 2;
      margin-top: 120px;
    }

    .level {
      background-color: rgba(255, 255, 255, 0.1);
      border: 2px solid #3399ff;
      padding: 30px;
      border-radius: 15px;
      width: 250px;
      text-align: center;
      transition: 0.3s;
      cursor: pointer;
      backdrop-filter: blur(10px);
     }

    .level:hover {
      background-color: rgba(51, 153, 255, 0.2);
      transform: scale(1.05);
    }

   .niveau1 h2 {
  font-size: 28px;
  color: #228B22; 
  text-shadow: 0 0 10px #1e6b1e; 
}
.level.niveau1 h2 {
  margin-bottom: 25px;
}

.niveau2 h2 {
  font-size: 28px;
  color: #FF8C00; 
  text-shadow: 0 0 10px #cc7000; 
}

#cases-niveau2 {
  position: relative;  /* pour que top fonctionne */
  top: -20px;         /* déplace vers le haut de 100px */
}

.niveau3 h2 {
  font-size: 28px;
  color: #ff4d4d;
  text-shadow: 0 0 10px #cc0000;
}
#cases-niveau3 {
  position: relative;  /* pour que top fonctionne */
  top: 70px;         /* déplace vers le haut de 100px */
}
.level h2 {
  margin-bottom: 8px;
}

.level p {
  margin-top: 0;
  line-height: 1.4;
font-size: 1em;
      color: #e0e0e0;
}

    .cases-container {
      display: none;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      padding: 20px;
      max-width: 1000px;
      margin: 0 auto 50px auto;
      position: relative;
      z-index: 2;
      opacity: 0;
      animation: fadeIn 1s forwards;
    }

    .case {
      overflow: hidden;
      border-radius: 15px;
      cursor: pointer;
      transition: transform 0.3s;
    }

    .case img {
      width: 100%;
      height: 200px;
      object-fit: cover;
      transition: transform 0.3s ease;
      display: block;
    }

    .case:hover img {
      transform: scale(1.05);
    }

    @keyframes fadeIn {
      0% { opacity: 0; }
      100% { opacity: 1; }
    }

    .back-btn {
      display: none;
      position: absolute;
      top: 20px;
      left: 20px;
      padding: 10px 20px;
      background-color: rgba(51, 153, 255, 0.7);
      border: none;
      color: white;
      border-radius: 10px;
      font-size: 1.2em;
      cursor: pointer;
      transition: 0.3s;
      z-index: 3;
    }

    .back-btn:hover {
      background-color: rgba(51, 153, 255, 1);
      transform: scale(1.05);
    }

    .password-popup {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 4;
    }

    .popup-content {
      background: rgba(0, 0, 0, 0.8);
      padding: 30px;
      border-radius: 15px;
      text-align: center;
      box-shadow: 0 0 15px 5px rgba(51, 153, 255, 0.6);
      backdrop-filter: blur(8px);
      animation: hologram 1s ease-in-out infinite;
    }

    @keyframes hologram {
      0%, 100% { transform: scale(1); box-shadow: 0 0 10px rgba(51, 153, 255, 0.6); }
      50% { transform: scale(1.05); box-shadow: 0 0 25px rgba(51, 153, 255, 0.8); }
    }




@keyframes shake {
  0%, 100% { transform: translateX(0); }
  20%, 60% { transform: translateX(-10px); }
  40%, 80% { transform: translateX(10px); }
}

.popup-content.shake {
  animation: shake 0.5s;
  box-shadow: 0 0 15px 5px rgba(255, 0, 0, 0.8);
}

    .popup-content h3 {
      margin-bottom: 20px;
      color: #3399ff;
      font-size: 1.5em;
    }

    .popup-content input {
      padding: 10px;
      border: 2px solid #3399ff;
      border-radius: 15px;
      background: rgba(255, 255, 255, 0.1);
      color: white;
      width: 80%;
      margin-bottom: 20px;
      text-align: center;
    }

    .popup-content button {
      padding: 12px 24px;
      background: #3399ff;
      color: white;
      border: none;
      border-radius: 15px;
      font-size: 1.2em;
      cursor: pointer;
      transition: 0.3s;
    }

    .popup-content button:hover {
      background-color: #66b2ff;
      transform: scale(1.05);
    }
    
.case-text {
  position: relative;
  display: block;               /* plein largeur du conteneur parent */
  width: 55%;                  /* prend toute la largeur disponible */
  background: rgba(0,0,50,0.4) no-repeat;
  background-size: 200% 100%;
  background-position: -100% 0;
  padding: 20px 40px;           /* plus d’espace horizontal */
  margin: 10px 0;
  border-radius: 10px;
  color: #80c0ff;
  font-size: 1.7em;
  line-height: 1.3;             /* aère les lignes si multi‑ligne */
  letter-spacing: 0.5px;        /* légèrement espacé */
  text-align: center;             /* ou center / justify */
  cursor: pointer;
  transition: background-position 0.4s, transform 0.2s;
  animation: fadeInUp 0.5s ease forwards;
  opacity: 0;
}

.case-text::before {
  content: '';
  position: absolute;
  top: -3px; left: -3px; 
  right: -3px; bottom: -3px;
  border: 2px solid #3399ff;
  border-radius: 10px;
  opacity: 0.4;
  transition: opacity 0.3s;
}

.case-text:hover {
  background-position: 0 0;
  transform: translateX(8px);
}

.case-text:hover::before {
  opacity: 1;
}

@keyframes fadeInUp {
  from { opacity: 0; transform: translateY(15px); }
  to   { opacity: 1; transform: translateY(0); }
}



.left-column {
  flex-direction: column;
  align-items: flex-start;
  padding-left: 40px;       /* Garde un retrait visuel */
margin-top: -40px;
}



  </style>

  <script>


function indicateError() {
  const popup = document.querySelector('.popup-content');
  const input = document.querySelector('.password-input');

  popup.classList.add('shake');
  setTimeout(() => popup.classList.remove('shake'), 500);

  input.value = '';
  input.focus();
}
    let currentLevel = '';
    let niveau2Debloque = false;
    let niveau3Debloque = false;
    let lastPasswordN2 = '';

    function showNiveau1Cases() {
      currentLevel = 'niveau1';
      document.querySelector('.levels').style.display = 'none';
      document.querySelector('#cases-niveau1').style.display = 'flex';
      document.querySelector('#cases-niveau2').style.display = 'none';
      document.querySelector('#cases-niveau3').style.display = 'none';
      document.querySelector('.back-btn').style.display = 'block';
    }

    function showNiveau2Cases() {
      currentLevel = 'niveau2';
      document.querySelector('.levels').style.display = 'none';
      document.querySelector('#cases-niveau1').style.display = 'none';
      document.querySelector('#cases-niveau2').style.display = 'flex';
      document.querySelector('#cases-niveau3').style.display = 'none';
      document.querySelector('.back-btn').style.display = 'block';
    }

    function showNiveau3Cases() {
      currentLevel = 'niveau3';
      document.querySelector('.levels').style.display = 'none';
      document.querySelector('#cases-niveau1').style.display = 'none';
      document.querySelector('#cases-niveau2').style.display = 'none';
      document.querySelector('#cases-niveau3').style.display = 'flex';
      document.querySelector('.back-btn').style.display = 'block';
    }

    function goBack() {
      document.querySelector('.levels').style.display = 'flex';
      document.querySelectorAll('.cases-container').forEach(c => c.style.display = 'none');
      document.querySelector('.back-btn').style.display = 'none';
    }

function showPasswordPopup(level) {
  // si déjà débloqué, on affiche directement
  if (level === 'niveau2' && niveau2Debloque) { showNiveau2Cases(); return; }
  if (level === 'niveau3' && niveau3Debloque) { showNiveau3Cases(); return; }

  currentLevel = level;
  const popup = document.querySelector('.password-popup');
  const inputEl = document.querySelector('.password-input');

  // pré-remplir uniquement pour le niveau 2
  if (level === 'niveau2') {
    inputEl.value = lastPasswordN2;
  } else {
    inputEl.value = '';      // niveau 3 reste vide
  }

  popup.style.display = 'flex';
  inputEl.focus();
}


function validatePassword() {
  const inputEl = document.querySelector('.password-input');
  const password = inputEl.value;

  if (currentLevel === 'niveau2') {
    // mémorisation pour niveau 2
    lastPasswordN2 = password;
    const lockIcon = document.getElementById('lock-icon-niveau2');
    if (password === '1234') {
      document.querySelector('.password-popup').style.display = 'none';
      niveau2Debloque = true;
      lockIcon.classList.replace('fa-lock','fa-lock-open');
      lockIcon.style.color = 'green';
      showNiveau2Cases();
    } else {
      indicateError();
    }

  } else if (currentLevel === 'niveau3') {
    const lockIcon = document.getElementById('lock-icon-niveau3');
    if (password === '5678') {
      document.querySelector('.password-popup').style.display = 'none';
      niveau3Debloque = true;
      lockIcon.classList.replace('fa-lock','fa-lock-open');
      lockIcon.style.color = 'green';
      showNiveau3Cases();
    } else {
      indicateError();
    }
  }
}


    window.onload = function() {
      document.querySelector('.password-input').addEventListener('keyup', function(event) {
        if (event.key === 'Enter') {
          event.preventDefault();
          validatePassword();
        }
      });
    }

    window.onclick = function(event) {
      const popup = document.querySelector('.password-popup');
      if (event.target === popup) {
        popup.style.display = 'none';
      }
    }
  </script>
</head>

<body>
  <video id="background-video" autoplay muted loop playsinline>
    <source src="fondpage.mp4" type="video/mp4">
    Ton navigateur ne supporte pas la vidéo HTML5.
  </video>

  <div class="scan-effect"></div>
  <h1>Maintenance Préventive</h1>

  <div class="levels">
    <div class="level niveau1" onclick="showNiveau1Cases()">
      <h2>Niveau 1</h2>
      <p>Maintenance de base, réalisée par les opérateurs.</p>
    </div>
    <div class="level niveau2" onclick="showPasswordPopup('niveau2')">
      <h2>Niveau 2</h2>
      <p>Interventions techniques simples, effectuées par la maintenance.</p>
      <i id="lock-icon-niveau2" class="fas fa-lock" style="color: orange; font-size: 40px; margin-top: 10px;"></i>
    </div>
    <div class="level niveau3" onclick="showPasswordPopup('niveau3')">
  <h2>Niveau 3</h2>
  <p>Maintenance complexe, réalisée par des experts ou externes.</p>
  <i id="lock-icon-niveau3" class="fas fa-lock" style="color: red; font-size: 40px; margin-top: 10px;"></i>
</div>
  </div>

  <button class="back-btn" onclick="goBack()">Retour à l'accueil</button>

<div class="cases-container left-column" id="cases-niveau1">
  <div class="case-text" onclick="window.location.href='Fichegraissagecoupeenbout.html'">
    Graissage coupe en bout
  </div>
  <div class="case-text" onclick="window.location.href='Fichegraissagegroupeaffleurage.html'">
    Graissage groupe d’affleurage
  </div>
  <div class="case-text" onclick="window.location.href='Fichegraissagegroupearrondisseur.html'">
    Graissage groupe arrondisseur
  </div>
  <div class="case-text" onclick="window.location.href='Fichegraissageracleurdechant.html'">
    Graissage racleur de chant
  </div>
</div>




  <div class="cases-container left-column" id="cases-niveau2">
  <div class="case-text" onclick="window.location.href='Fichefibreoptique.html'">
    Nettoyage de la fibre optique
  </div>
  <div class="case-text" onclick="window.location.href='Fichebacacolle.html'">
    Réglage du bac à colle
  </div>
  <div class="case-text" onclick="window.location.href='Ficherouleaucompresseur.html'">
    Nettoyage du rouleau compresseur
  </div>
  <div class="case-text" onclick="window.location.href='Ficheguillotine.html'">
    Nettoyage de la guillotine
  </div>
</div>

  <div class="cases-container left-column" id="cases-niveau3">
   <div class="case-text" onclick="window.location.href='Ficherouleaucompresseur.html'">
    Remplacement et recalibrage du groupe arrondisseur
  </div>
  <div class="case-text" onclick="window.location.href='Ficheguillotine.html'">
   Diagnostic et remplacement d’un moteur affleureur
  </div>
  </div>

  <h2 class="subtitle">Plaqueuse de chant Stream A</h2>

  <div class="password-popup">
    <div class="popup-content">
      <h3>Entrez le mot de passe</h3>
      <input type="password" class="password-input" placeholder="Mot de passe" />
      <button onclick="validatePassword()">Valider</button>
    </div>
  </div>

</body>
</html>
